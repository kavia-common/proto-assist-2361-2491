{"is_source_file": true, "format": "bash", "description": "This is a shell script that manages database startup, including conditional starting of a PostgreSQL server or fallback health/status server, with safeguards, configuration, and initialization steps.", "external_files": ["scripts/health.js", "db_visualizer/server.js", "sql/*.sql"], "external_methods": ["command -v", "mkdir -p", "ls", "tail", "printf", "wait", "kill"], "published": [], "classes": [], "methods": [{"name": "keep_alive", "description": "Keeps the container alive by either binding port with netcat or tailing /dev/null."}, {"name": "start_health", "description": "Starts a lightweight health server using Node.js scripts or falls back to keep-alive methods."}, {"name": "start_postgres", "description": "Initializes and starts a PostgreSQL database server, sets up database and user, applies migrations, and records connection info."}], "calls": ["command -v bash", "command -v node", "command -v postgres", "command -v pg_isready", "command -v psql", "command -v initdb", "command -v createdb", "mkdir -p", "ls", "tail", "printf", "wait", "kill", "sh", "echo", "test", "cd"], "search-terms": ["startup.sh", "PostgreSQL startup", "health server", "database initialization", "migration scripts", "bash script", "entrypoint"], "state": 2, "file_id": 1, "knowledge_revision": 51, "git_revision": "5288d8d2102310b7566fe04e7e6955f65deb052e", "revision_history": [{"10": "41d8c79122cc878e24191a1ec7ea7787c59e459f"}, {"21": "41d8c79122cc878e24191a1ec7ea7787c59e459f"}, {"22": "0ae32f76635f8ab36f165afaad26c3fdabf6f6d6"}, {"35": "09b81b4b934d558ee858de4d5064f4c682a265ff"}, {"51": "5288d8d2102310b7566fe04e7e6955f65deb052e"}], "hash": "61a703751abaeaffb970e761f3fa8a2c", "format-version": 4, "code-base-name": "Database", "filename": "Database/startup.sh"}